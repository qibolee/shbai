nohup: ignoring input
+ prefix_thang=hdfs://nmg01-taihang-hdfs.dmop.baidu.com:54310
+ prefix_khan=hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310
+ prefix_mulan=hdfs://nmg01-mulan-hdfs.dmop.baidu.com:54310
+ hadoop_khan=/home/work/shangbai/lib/hadoop-client-nmg/hadoop/bin/hadoop
+ hadoop_prefix=hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310
+ hadoop_bin=/home/work/shangbai/lib/hadoop-client-nmg/hadoop/bin/hadoop
+ [[ 1 == 1 ]]
+ static_date=20170806
+ path_mixer_full=/home/work/shangbai/online/mixer_full
+ hadoop_output=hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/ecom/fcr/liqibo/NA/mixer_full_charge/20170806
+ path_local=/home/work/shangbai/data/20170806/mixer_full_charge
++ list_input 20170806
++ prefix_input=hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/dt/udw/release/app/fengchao/shitu/222_223
++ postfix_input='*/part-*'
++ [[ 1 == 1 ]]
++ echo '-input hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/dt/udw/release/app/fengchao/shitu/222_223/20170806/*/part-*'
+ hadoop_input='-input hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/dt/udw/release/app/fengchao/shitu/222_223/20170806/*/part-*'
+ main_task
+ run_hadoop
+ /home/work/shangbai/lib/hadoop-client-nmg/hadoop/bin/hadoop fs -rmr hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/ecom/fcr/liqibo/NA/mixer_full_charge/20170806
rmr: hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/ecom/fcr/liqibo/NA/mixer_full_charge/20170806
+ /home/work/shangbai/lib/hadoop-client-nmg/hadoop/bin/hadoop streaming -input 'hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/dt/udw/release/app/fengchao/shitu/222_223/20170806/*/part-*' -output hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/ecom/fcr/liqibo/NA/mixer_full_charge/20170806 -mapper 'python27/bin/python2.7 mapper.py' -reducer 'python27/bin/python2.7 reducer.py mixer_full' -file mapper.py -file reducer.py -file /home/work/shangbai/online/mixer_full -cacheArchive /share/python2.7.tar.gz#python27 -jobconf mapred.job.name=liqibo-static -jobconf mapred.job.priority=VERY_HIGH -jobconf mapred.job.queue.name=fcr-adu -jobconf stream.memory.limit=4096 -jobconf mapred.job.map.capacity=3000 -jobconf mapred.map.tasks=2000 -jobconf mapred.job.reduce.capacity=2000 -jobconf mapred.reduce.tasks=1000 -jobconf mapred.job.reduce.memory.mb=5120 -jobconf stream.num.map.output.key.fields=1
17/08/07 14:17:40 WARN streaming.StreamJob: -cacheArchive option is deprecated, please use -archives instead.
17/08/07 14:17:40 WARN streaming.StreamJob: -jobconf option is deprecated, please use -D instead.
packageJobJar: [mapper.py, reducer.py, /home/work/shangbai/online/mixer_full] [/home/work/shangbai/lib/hadoop-client-nmg/hadoop/contrib/streaming/hadoop-2-streaming.jar] /tmp/streamjob4569333373277739354.jar tmpDir=null
17/08/07 14:17:44 INFO mapred.JobClient: class org.apache.hadoop.security.UnixUserGroupInformation
17/08/07 14:17:44 INFO mapred.JobClient: class org.apache.hadoop.security.UnixUserGroupInformation
17/08/07 14:17:45 INFO hdfs.FMSClient: Write 23080955380281342 in pipeline 10.74.62.29:7001, 10.74.81.21:7001, 10.74.166.11:7001, 10.74.41.25:7001, 10.74.78.54:7001, 10.74.159.16:7001, 10.74.118.22:7001, 10.74.202.12:7001, 10.74.37.11:7001, 10.74.161.33:7001
17/08/07 14:17:46 INFO util.NativeCodeLoader: Loaded the native-hadoop library
17/08/07 14:17:46 INFO compress.LzoCodec: Successfully loaded & initialized native-lzo library
17/08/07 14:17:46 INFO compress.LzmaCodec: Successfully loaded & initialized native-lzma library
17/08/07 14:17:46 INFO compress.QuickLzCodec: Successfully loaded & initialized native-quicklz library
17/08/07 14:17:46 INFO mapred.FileInputFormat: getInputPaths: dirs: hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/dt/udw/release/app/fengchao/shitu/222_223/20170806/*/part-*
17/08/07 14:18:27 INFO mapred.FileInputFormat: Total input paths to process : 4800
17/08/07 14:18:27 WARN mapred.FileInputFormat: Split size is optimized by default, you can set 'abaci.split.optimize.enable=false' to skip it
17/08/07 14:18:46 INFO hdfs.FMSClient: Write 19140305708495668 in pipeline 10.74.158.43:7001, 10.74.109.50:7001, 10.74.153.25:7001
17/08/07 14:18:48 INFO mapred.JobClient: splits size : 82036
17/08/07 14:18:48 INFO hdfs.FMSClient: Write 1688857152099166 in pipeline 10.74.145.48:7001, 10.74.214.30:7001, 10.74.210.20:7001
17/08/07 14:18:48 INFO split.SplitUtils: create hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/dc/deva/system/mapred/job_20170705161142_1594711/split.done
17/08/07 14:18:48 INFO hdfs.FMSClient: Write 21955055474622733 in pipeline 10.74.199.24:7001, 10.74.90.22:7001, 10.74.107.40:7001
17/08/07 14:18:48 INFO mapred.JobClient: Running job: job_20170705161142_1594711
17/08/07 14:18:48 INFO mapred.JobClient: To kill this job, run:
17/08/07 14:18:48 INFO mapred.JobClient: /home/work/shangbai/lib/hadoop-client-nmg/hadoop/bin/../bin/hadoop job -Dmapred.job.tracker=nmg01-khan-abaci.dmop.baidu.com:54311 -kill job_20170705161142_1594711
17/08/07 14:18:48 INFO mapred.JobClient: Tracking URL: http://nmg01-khan-mapred01.nmg01.baidu.com:8030/jobproxy.jsp?jobid=job_20170705161142_1594711
17/08/07 14:19:18 INFO mapred.JobClient: Total split num: 82036
17/08/07 14:19:18 INFO mapred.JobClient: Total split size: 24063448 (bytes)
17/08/07 14:19:18 INFO mapred.JobClient: Total split time: 61928 (ms)
17/08/07 14:19:20 INFO mapred.JobClient:  map 0% reduce 0%
17/08/07 14:28:48 INFO mapred.JobClient:  map 1% reduce 0%
17/08/07 14:29:29 INFO mapred.JobClient:  map 2% reduce 0%
17/08/07 14:29:59 INFO mapred.JobClient:  map 3% reduce 0%
17/08/07 14:30:09 INFO mapred.JobClient:  map 4% reduce 0%
17/08/07 14:30:19 INFO mapred.JobClient:  map 5% reduce 0%
17/08/07 14:30:39 INFO mapred.JobClient:  map 6% reduce 0%
17/08/07 14:30:49 INFO mapred.JobClient:  map 7% reduce 0%
17/08/07 14:31:09 INFO mapred.JobClient:  map 8% reduce 0%
17/08/07 14:31:19 INFO mapred.JobClient:  map 9% reduce 0%
17/08/07 14:31:29 INFO mapred.JobClient:  map 11% reduce 0%
17/08/07 14:31:39 INFO mapred.JobClient:  map 12% reduce 0%
17/08/07 14:31:50 INFO mapred.JobClient:  map 13% reduce 0%
17/08/07 14:31:59 INFO mapred.JobClient:  map 14% reduce 0%
17/08/07 14:32:09 INFO mapred.JobClient:  map 16% reduce 0%
17/08/07 14:32:19 INFO mapred.JobClient:  map 17% reduce 0%
17/08/07 14:32:29 INFO mapred.JobClient:  map 19% reduce 0%
17/08/07 14:32:40 INFO mapred.JobClient:  map 20% reduce 0%
17/08/07 14:32:49 INFO mapred.JobClient:  map 21% reduce 0%
17/08/07 14:32:59 INFO mapred.JobClient:  map 24% reduce 0%
17/08/07 14:33:09 INFO mapred.JobClient:  map 27% reduce 0%
17/08/07 14:33:19 INFO mapred.JobClient:  map 30% reduce 0%
17/08/07 14:33:29 INFO mapred.JobClient:  map 32% reduce 0%
17/08/07 14:33:40 INFO mapred.JobClient:  map 35% reduce 0%
17/08/07 14:33:49 INFO mapred.JobClient:  map 40% reduce 0%
17/08/07 14:34:00 INFO mapred.JobClient:  map 43% reduce 0%
17/08/07 14:34:10 INFO mapred.JobClient:  map 46% reduce 0%
17/08/07 14:34:20 INFO mapred.JobClient:  map 50% reduce 0%
17/08/07 14:34:31 INFO mapred.JobClient:  map 54% reduce 0%
17/08/07 14:34:41 INFO mapred.JobClient:  map 57% reduce 0%
17/08/07 14:34:50 INFO mapred.JobClient:  map 61% reduce 0%
17/08/07 14:35:00 INFO mapred.JobClient:  map 64% reduce 0%
17/08/07 14:35:11 INFO mapred.JobClient:  map 67% reduce 0%
17/08/07 14:35:21 INFO mapred.JobClient:  map 70% reduce 0%
17/08/07 14:35:31 INFO mapred.JobClient:  map 73% reduce 0%
17/08/07 14:35:40 INFO mapred.JobClient:  map 76% reduce 0%
17/08/07 14:35:50 INFO mapred.JobClient:  map 79% reduce 0%
17/08/07 14:36:01 INFO mapred.JobClient:  map 83% reduce 0%
17/08/07 14:36:10 INFO mapred.JobClient:  map 85% reduce 0%
17/08/07 14:36:21 INFO mapred.JobClient:  map 89% reduce 0%
17/08/07 14:36:31 INFO mapred.JobClient:  map 93% reduce 0%
17/08/07 14:36:41 INFO mapred.JobClient:  map 97% reduce 0%
17/08/07 14:36:51 INFO mapred.JobClient:  map 99% reduce 0%
17/08/07 14:46:15 INFO mapred.JobClient:  map 100% reduce 0%
17/08/07 14:47:26 INFO mapred.JobClient:  map 100% reduce 1%
17/08/07 14:47:37 INFO mapred.JobClient:  map 100% reduce 3%
17/08/07 14:47:46 INFO mapred.JobClient:  map 100% reduce 5%
17/08/07 14:47:57 INFO mapred.JobClient:  map 100% reduce 7%
17/08/07 14:48:06 INFO mapred.JobClient:  map 100% reduce 15%
17/08/07 14:48:17 INFO mapred.JobClient:  map 100% reduce 21%
17/08/07 14:48:27 INFO mapred.JobClient:  map 100% reduce 29%
17/08/07 14:48:38 INFO mapred.JobClient:  map 100% reduce 36%
17/08/07 14:48:47 INFO mapred.JobClient:  map 100% reduce 54%
17/08/07 14:48:57 INFO mapred.JobClient:  map 100% reduce 66%
17/08/07 14:49:08 INFO mapred.JobClient:  map 100% reduce 86%
17/08/07 14:49:17 INFO mapred.JobClient:  map 100% reduce 96%
17/08/07 14:49:28 INFO mapred.JobClient:  map 100% reduce 98%
17/08/07 14:49:38 INFO mapred.JobClient:  map 100% reduce 99%
17/08/07 14:53:32 INFO mapred.JobClient: Updating completed job! Ignoring ...
17/08/07 14:53:32 INFO mapred.JobClient: Updating completed job! Ignoring ...
17/08/07 14:53:32 INFO mapred.JobClient: Job complete: job_20170705161142_1594711
17/08/07 14:53:32 INFO streaming.StreamJob: Output: hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/ecom/fcr/liqibo/NA/mixer_full_charge/20170806
+ [[ -f /home/work/shangbai/data/20170806/mixer_full_charge ]]
+ /home/work/shangbai/lib/hadoop-client-nmg/hadoop/bin/hadoop fs -getmerge hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/ecom/fcr/liqibo/NA/mixer_full_charge/20170806 /home/work/shangbai/data/20170806/mixer_full_charge
