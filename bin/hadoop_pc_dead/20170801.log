nohup: ignoring input
+ prefix_thang=hdfs://nmg01-taihang-hdfs.dmop.baidu.com:54310
+ prefix_khan=hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310
+ prefix_mulan=hdfs://nmg01-mulan-hdfs.dmop.baidu.com:54310
+ hadoop_khan=/home/work/shangbai/lib/hadoop-client-nmg/hadoop/bin/hadoop
+ hadoop_prefix=hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310
+ hadoop_bin=/home/work/shangbai/lib/hadoop-client-nmg/hadoop/bin/hadoop
+ [[ 1 == 1 ]]
+ static_date=20170801
+ path_pc_dead=/home/work/shangbai/data/20170801/pc_dead
+ hadoop_output=hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/ecom/fcr/liqibo/NA/pc_dead_charge/20170801
+ path_local=/home/work/shangbai/data/20170801/charge_dict
++ list_input 20170801
++ prefix_input=hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/dt/udw/release/app/fengchao/shitu/222_223
++ postfix_input='*/part-*'
++ [[ 1 == 1 ]]
++ echo '-input hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/dt/udw/release/app/fengchao/shitu/222_223/20170801/*/part-*'
+ hadoop_input='-input hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/dt/udw/release/app/fengchao/shitu/222_223/20170801/*/part-*'
+ main_task
+ run_hadoop
+ /home/work/shangbai/lib/hadoop-client-nmg/hadoop/bin/hadoop fs -rmr hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/ecom/fcr/liqibo/NA/pc_dead_charge/20170801
rmr: hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/ecom/fcr/liqibo/NA/pc_dead_charge/20170801
+ /home/work/shangbai/lib/hadoop-client-nmg/hadoop/bin/hadoop streaming -input 'hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/dt/udw/release/app/fengchao/shitu/222_223/20170801/*/part-*' -output hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/ecom/fcr/liqibo/NA/pc_dead_charge/20170801 -mapper 'python27/bin/python2.7 mapper.py' -reducer 'python27/bin/python2.7 reducer.py pc_dead' -file mapper.py -file reducer.py -file /home/work/shangbai/data/20170801/pc_dead -cacheArchive /share/python2.7.tar.gz#python27 -jobconf mapred.job.name=liqibo-static -jobconf mapred.job.priority=VERY_HIGH -jobconf mapred.job.queue.name=fcr-adu -jobconf stream.memory.limit=4096 -jobconf mapred.job.map.capacity=3000 -jobconf mapred.map.tasks=2000 -jobconf mapred.job.reduce.capacity=2000 -jobconf mapred.reduce.tasks=1000 -jobconf mapred.job.reduce.memory.mb=5120 -jobconf stream.num.map.output.key.fields=1
17/08/04 17:07:38 WARN streaming.StreamJob: -cacheArchive option is deprecated, please use -archives instead.
17/08/04 17:07:38 WARN streaming.StreamJob: -jobconf option is deprecated, please use -D instead.
packageJobJar: [mapper.py, reducer.py, /home/work/shangbai/data/20170801/pc_dead] [/home/work/shangbai/lib/hadoop-client-nmg/hadoop/contrib/streaming/hadoop-2-streaming.jar] /tmp/streamjob1274258068348162955.jar tmpDir=null
17/08/04 17:07:40 INFO mapred.JobClient: class org.apache.hadoop.security.UnixUserGroupInformation
17/08/04 17:07:40 INFO mapred.JobClient: class org.apache.hadoop.security.UnixUserGroupInformation
17/08/04 17:07:40 INFO hdfs.FMSClient: Write 17169980860833508 in pipeline 10.74.116.18:7001, 10.74.72.30:7001, 10.74.24.46:7001, 10.74.191.38:7001, 10.74.202.43:7001, 10.74.145.24:7001, 10.74.194.22:7001, 10.74.30.41:7001, 10.74.142.44:7001, 10.74.29.48:7001
17/08/04 17:07:43 INFO util.NativeCodeLoader: Loaded the native-hadoop library
17/08/04 17:07:43 INFO compress.LzoCodec: Successfully loaded & initialized native-lzo library
17/08/04 17:07:43 INFO compress.LzmaCodec: Successfully loaded & initialized native-lzma library
17/08/04 17:07:43 INFO compress.QuickLzCodec: Successfully loaded & initialized native-quicklz library
17/08/04 17:07:43 INFO mapred.FileInputFormat: getInputPaths: dirs: hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/dt/udw/release/app/fengchao/shitu/222_223/20170801/*/part-*
17/08/04 17:07:52 INFO mapred.FileInputFormat: Total input paths to process : 4800
17/08/04 17:07:52 WARN mapred.FileInputFormat: Split size is optimized by default, you can set 'abaci.split.optimize.enable=false' to skip it
17/08/04 17:08:24 INFO hdfs.FMSClient: Write 4785081886195711 in pipeline 10.74.205.18:7001, 10.74.23.39:7001, 10.74.148.48:7001
17/08/04 17:08:26 INFO mapred.JobClient: splits size : 79795
17/08/04 17:08:26 INFO hdfs.FMSClient: Write 12384906254373993 in pipeline 10.74.29.54:7001, 10.74.72.45:7001, 10.74.224.43:7001
17/08/04 17:08:26 INFO split.SplitUtils: create hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/dc/deva/system/mapred/job_20170705161142_1445323/split.done
17/08/04 17:08:26 INFO hdfs.FMSClient: Write 16044080952926426 in pipeline 10.74.59.50:7001, 10.74.125.21:7001, 10.74.166.45:7001
17/08/04 17:08:26 INFO mapred.JobClient: Running job: job_20170705161142_1445323
17/08/04 17:08:26 INFO mapred.JobClient: To kill this job, run:
17/08/04 17:08:26 INFO mapred.JobClient: /home/work/shangbai/lib/hadoop-client-nmg/hadoop/bin/../bin/hadoop job -Dmapred.job.tracker=nmg01-khan-abaci.dmop.baidu.com:54311 -kill job_20170705161142_1445323
17/08/04 17:08:26 INFO mapred.JobClient: Tracking URL: http://nmg01-khan-mapred01.nmg01.baidu.com:8030/jobproxy.jsp?jobid=job_20170705161142_1445323
17/08/04 17:08:48 INFO mapred.JobClient: Total split num: 79795
17/08/04 17:08:48 INFO mapred.JobClient: Total split size: 23407731 (bytes)
17/08/04 17:08:48 INFO mapred.JobClient: Total split time: 42947 (ms)
17/08/04 17:08:49 INFO mapred.JobClient:  map 0% reduce 0%
17/08/04 17:09:47 INFO mapred.JobClient:  map 1% reduce 0%
17/08/04 17:09:57 INFO mapred.JobClient:  map 2% reduce 0%
17/08/04 17:10:07 INFO mapred.JobClient:  map 3% reduce 0%
17/08/04 17:10:17 INFO mapred.JobClient:  map 4% reduce 0%
17/08/04 17:10:27 INFO mapred.JobClient:  map 5% reduce 0%
17/08/04 17:10:38 INFO mapred.JobClient:  map 6% reduce 0%
17/08/04 17:10:47 INFO mapred.JobClient:  map 7% reduce 0%
17/08/04 17:10:57 INFO mapred.JobClient:  map 8% reduce 0%
17/08/04 17:11:08 INFO mapred.JobClient:  map 9% reduce 0%
17/08/04 17:11:17 INFO mapred.JobClient:  map 11% reduce 0%
17/08/04 17:11:27 INFO mapred.JobClient:  map 12% reduce 0%
17/08/04 17:11:37 INFO mapred.JobClient:  map 14% reduce 0%
17/08/04 17:11:47 INFO mapred.JobClient:  map 16% reduce 0%
17/08/04 17:11:58 INFO mapred.JobClient:  map 18% reduce 0%
17/08/04 17:12:07 INFO mapred.JobClient:  map 20% reduce 0%
17/08/04 17:12:18 INFO mapred.JobClient:  map 22% reduce 0%
17/08/04 17:12:27 INFO mapred.JobClient:  map 24% reduce 0%
17/08/04 17:12:38 INFO mapred.JobClient:  map 26% reduce 0%
17/08/04 17:12:48 INFO mapred.JobClient:  map 28% reduce 0%
17/08/04 17:12:57 INFO mapred.JobClient:  map 30% reduce 0%
17/08/04 17:13:08 INFO mapred.JobClient:  map 32% reduce 0%
17/08/04 17:13:17 INFO mapred.JobClient:  map 34% reduce 0%
17/08/04 17:13:29 INFO mapred.JobClient:  map 36% reduce 0%
17/08/04 17:13:40 INFO mapred.JobClient:  map 39% reduce 0%
17/08/04 17:13:50 INFO mapred.JobClient:  map 41% reduce 0%
17/08/04 17:14:00 INFO mapred.JobClient:  map 43% reduce 0%
17/08/04 17:14:10 INFO mapred.JobClient:  map 46% reduce 0%
17/08/04 17:14:20 INFO mapred.JobClient:  map 48% reduce 0%
17/08/04 17:14:30 INFO mapred.JobClient:  map 50% reduce 0%
17/08/04 17:14:39 INFO mapred.JobClient:  map 58% reduce 0%
17/08/04 17:14:50 INFO mapred.JobClient:  map 59% reduce 0%
17/08/04 17:15:00 INFO mapred.JobClient:  map 61% reduce 0%
17/08/04 17:15:10 INFO mapred.JobClient:  map 62% reduce 0%
17/08/04 17:15:20 INFO mapred.JobClient:  map 64% reduce 0%
17/08/04 17:15:30 INFO mapred.JobClient:  map 66% reduce 0%
17/08/04 17:15:40 INFO mapred.JobClient:  map 68% reduce 0%
17/08/04 17:15:51 INFO mapred.JobClient:  map 70% reduce 0%
17/08/04 17:16:00 INFO mapred.JobClient:  map 72% reduce 0%
17/08/04 17:16:11 INFO mapred.JobClient:  map 75% reduce 0%
17/08/04 17:16:20 INFO mapred.JobClient:  map 78% reduce 0%
17/08/04 17:16:30 INFO mapred.JobClient:  map 80% reduce 0%
17/08/04 17:16:41 INFO mapred.JobClient:  map 82% reduce 0%
17/08/04 17:16:51 INFO mapred.JobClient:  map 84% reduce 0%
17/08/04 17:17:01 INFO mapred.JobClient:  map 86% reduce 0%
17/08/04 17:17:10 INFO mapred.JobClient:  map 88% reduce 0%
17/08/04 17:17:20 INFO mapred.JobClient:  map 90% reduce 0%
17/08/04 17:17:31 INFO mapred.JobClient:  map 92% reduce 0%
17/08/04 17:17:41 INFO mapred.JobClient:  map 93% reduce 0%
17/08/04 17:17:52 INFO mapred.JobClient:  map 95% reduce 0%
17/08/04 17:18:01 INFO mapred.JobClient:  map 98% reduce 0%
17/08/04 17:18:11 INFO mapred.JobClient:  map 99% reduce 0%
17/08/04 17:20:23 INFO mapred.JobClient:  map 100% reduce 0%
17/08/04 17:21:13 INFO mapred.JobClient:  map 100% reduce 9%
17/08/04 17:21:22 INFO mapred.JobClient:  map 100% reduce 16%
17/08/04 17:21:33 INFO mapred.JobClient:  map 100% reduce 29%
17/08/04 17:21:42 INFO mapred.JobClient:  map 100% reduce 44%
17/08/04 17:21:53 INFO mapred.JobClient:  map 100% reduce 84%
17/08/04 17:22:03 INFO mapred.JobClient:  map 100% reduce 95%
17/08/04 17:22:13 INFO mapred.JobClient:  map 100% reduce 97%
17/08/04 17:22:24 INFO mapred.JobClient:  map 100% reduce 99%
17/08/04 17:24:28 INFO mapred.JobClient: Updating completed job! Ignoring ...
17/08/04 17:24:28 INFO mapred.JobClient: Updating completed job! Ignoring ...
17/08/04 17:24:28 INFO mapred.JobClient: Job complete: job_20170705161142_1445323
17/08/04 17:24:28 INFO streaming.StreamJob: Output: hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/ecom/fcr/liqibo/NA/pc_dead_charge/20170801
+ [[ -f /home/work/shangbai/data/20170801/charge_dict ]]
+ /home/work/shangbai/lib/hadoop-client-nmg/hadoop/bin/hadoop fs -getmerge hdfs://nmg01-khan-hdfs.dmop.baidu.com:54310/app/ecom/fcr/liqibo/NA/pc_dead_charge/20170801 /home/work/shangbai/data/20170801/charge_dict
